%---------------------------------------------------------------------------%
%-                                                                         -%
%-                        User-defined Commands                            -%
%-                                                                         -%
%---------------------------------------------------------------------------%
%- Copyright (C) Huangrui Mo <huangrui.mo@gmail.com> 
%- This is free software: you can redistribute it and/or modify it
%- under the terms of the GNU General Public License as published by
%- the Free Software Foundation, either version 3 of the License, or
%- (at your option) any later version.
%---------------------------------------------------------------------------%
%->> Identification
%---------------------------------------------------------------------------%
\NeedsTeXFormat{LaTeX2e}%
\ProvidesPackage{artracom}[2014/10/01 v1.0 LaTeX macros package]%
%---------------------------------------------------------------------------%
%->> Declare options
%---------------------------------------------------------------------------%
%-
%-> Handle non-implemented options
%-
\DeclareOption*{%
    \PackageWarning{artracom}{Unknown option '\CurrentOption'}%
}
%-
%-> Terminates all options processing
%-
\ProcessOptions\relax%
%---------------------------------------------------------------------------%
%->> User added packages
%---------------------------------------------------------------------------%
%- this part adds normal packages
%\RequirePackage{chemfig}% draw 2D chemical structures
%\RequirePackage{mhchem}% typeset chemical formulae [mhchem|chemformula]

%- this part adds packages that should be loaded at the very end
\AtEndPreamble{%
    %\RequirePackage{cleveref}% clever cross-referencing
}
%---------------------------------------------------------------------------%
%->> User defined commands
%---------------------------------------------------------------------------%
%-
%-> General information
%- 
%- \def\macroname#1<sep1>#2<sep2>{macro content, use of argument #1, #2 ...}
%- each parameter #n is the shortest possible input sequence that matches the
%- macro definition, separators included. Without separators, then Plain TeX
%- macros are used just as LaTeX macros (without default parameter):
%- \def\macroname#1#2#3{...} -> \newcommand{macroname}[3]{...}
%- \def: define a command whether new or predefined, equivalent to
%-       \providecommand{macroname}{}%
%-       \renewcommand*{macroname}[number of arguments][default value]{definition}
%- \long\def: define a command whether new or predefined, equivalent to
%-       \providecommand{macroname}{}%
%-       \renewcommand{macroname}[number of arguments][default value]{definition}
%- \newcommand: defines a new command, makes an error if already defined
%- \renewcommand: redefines a predefined command, makes an error if not yet defined
%- \providecommand: defines a new command, if already defined, keep old definition
%- *-forms: enable error check for missing arguments or arguments contain \par
%- *-forms that are usually the better form to use when defining commands with
%- arguments, unless any of these arguments is intended to contain whole paragraphs
%- of text. If you need to use the non-star form then you should ask whether that 
%- argument better be treated as the contents of a suitably defined environment.
%-
%-> Math functions
%-
%- International standard layout rules (from isomath package)
%- The overall rule is that symbols representing math quantities or variables should
%- be italicised, symbols representing units or labels are unitalicised (roman).
%- Symbols for vectors and matrices are bold italic, symbols for tensors are 
%- sans-serif bold italic.
%- The above rules apply equally to letter symbols from the Greek and 
%- the Latin alphabet.
%- More information may be found in <<The LaTeX Mathematics Companion>>
%- However, math typefaces vary from field to field. To keep consistent typography
%- and easy adaption, it it always best to create a corresponding command for 
%- variables in each math category.  
%\providecommand{\Scalar}[1]{#1}% scalar is the normal math typeset, italic
\providecommand{\Vector}[1]{\symbfit{#1}}% general vectors in bold italic
\providecommand{\unitVector}[1]{\symbfup{#1}}% unit vectors in bold roman
\providecommand{\Matrix}[1]{\symbfup{#1}}% matrix in bold roman
\providecommand{\unitMatrix}[1]{\symbfup{#1}}% identity matrix in bold roman
\providecommand{\Tensor}[1]{\symbfsfup{#1}}% tensor in sans-serif bold italic
\providecommand{\unitTensor}[1]{\symbfsfup{#1}}% identity tensor in sans-serif bold
\providecommand{\Unit}[1]{\,\mathrm{#1}}% units in roman
\providecommand{\Const}[1]{\mathrm{#1}}% math constants, functions
\providecommand{\Set}[1]{\mathbb{#1}}% special sets in blackboard bold
\providecommand{\Div}{\operatorname{div}}% divergence operator
\providecommand{\Order}{\operatorname{O}}% order operator
\providecommand{\Trace}{\operatorname{tr}}% trace operator
\providecommand{\Diag}{\operatorname{diag}}% diagonal
\providecommand{\Def}{\operatorname{def}}% define
\providecommand{\Loptr}{\operatorname{\mathcal{L}}}% spatial operator
\providecommand{\Toptr}{\operatorname{\mathcal{LL}}}% temporal operator
\providecommand{\Soptr}{\operatorname{\mathcal{S}}}% solution operator
\providecommand{\Des}[1]{\mathrm{#1}}% descriptive superscripts and subscripts in roman type 
\providecommand{\Rev}[1]{\begingroup\color{blue}{#1}\endgroup}% revision highlight
%-
%-> Graphical length factor
%-
\providecommand*{\MyFactor}{0.6}% for single figure
\providecommand*{\MySubFactor}{0.45}% for subfigure
%-
%-> Add dots before equation number
%-
\newcommand{\adddotsbeforeeqnnum}{\def\maketag@@@##1{\hbox{\m@th\normalfont\dots\ ##1}}}%

%---------------------------------------------------------------------------%
% TODO notes
%---------------------------------------------------------------------------%
\RequirePackage{xargs}
\RequirePackage[
  colorinlistoftodos,
  prependcaption,
  textsize = tiny,
  textwidth = 2.6cm,
]{todonotes}
\setlength{\marginparwidth}{2.6cm}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}

%---------------------------------------------------------------------------%
% Machine learning ralated stuff
%---------------------------------------------------------------------------%
\RequirePackage{slashed}
\RequirePackage{esdiff}
\providecommand{\CE}[2]{\mathrm{CE}\left( #1 \| #2 \right)}
\providecommand{\KL}[2]{D_{\mathrm{KL}}\left( #1 \| #2 \right)}
\providecommand{\Round}[1]{\left\lfloor #1 \right\rceil}
\providecommand{\NoDiff}[1]{\slashed{\nabla} #1}
\providecommand{\FpNet}{f_{\mathcal{W}}}
\providecommand{\QuantNet}{\hat{f}_{\mathcal{W, Q}}}
\providecommand{\NormalDist}[1]{\mathcal{N} \left( #1 \right)}
\providecommand{\EMA}[1]{{ #1 }_{\mathrm{EMA}}}
\providecommand{\Batch}[1]{{ #1 }_{\mathrm{b}}}
\providecommand{\Fold}[1]{{ #1 }_{\mathrm{fold}}}
\providecommand{\Clamp}[1]{\mathrm{clamp}\left( #1 \right)}
\DeclareMathOperator{\sign}{sign}
\providecommand{\mAP}[1]{\mathrm{mAP}^{\mathrm{ #1 }}}
\providecommand{\mAR}[1]{\mathrm{mAR}^{\mathrm{ #1 }}}
\providecommand{\QP}{\texttt{QuantPack}}

%---------------------------------------------------------------------------%
% Drawing and table helpers
%---------------------------------------------------------------------------%
\def\boxit#1{%
  \smash{\color{red}\fboxrule=1pt\relax\fboxsep=2pt\relax%
  \llap{\rlap{\fbox{\vphantom{0}\makebox[#1]{}}}~}}\ignorespaces
}
% TF graph node styles, used in main display figure and in appendix 3.
\tikzstyle{nobox}=[text centered, text=blue!60, font=\sffamily\bfseries]
\tikzstyle{act}=[thick, rectangle, rounded corners, minimum width=2cm, minimum height=1cm, text centered, draw=black, fill=yellow!20, font=\sffamily\bfseries\boldmath]
\tikzstyle{add}=[thick, ellipse, minimum width=1cm, minimum height=1cm, text centered, draw=black, fill=yellow!20, font=\sffamily\bfseries\boldmath]
\tikzstyle{conv}=[thick, rectangle, rounded corners, minimum width=2cm, minimum height=1cm, text centered, draw=black, fill=green!20, font=\sffamily\bfseries]
\tikzstyle{params}=[thick, ellipse, minimum width=2cm, minimum height=1cm, text centered, draw=black, fill=blue!20, font=\sffamily\bfseries\boldmath]
\tikzstyle{small_params}=[thick, ellipse, minimum width=1cm, minimum height=1cm, text centered, draw=black, fill=blue!20, font=\sffamily\bfseries\boldmath]
\tikzstyle{quant}=[thick, ellipse, minimum width=2cm, minimum height=1cm, text centered, draw=black, fill=red!20, font=\sffamily\bfseries]
\tikzstyle{ma}=[thick, ellipse, minimum width=2cm, minimum height=1cm, text centered, draw=black, fill=gray!20, font=\sffamily\bfseries\boldmath]
\tikzstyle{arrow} = [thick,->,>=stealth]


\endinput
